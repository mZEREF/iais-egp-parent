<?xml version="1.0" encoding="UTF-8"?>
<sqls catalog="interInboxQuery">
    <sql key = "inboxQuery" remarks = "Query Inter-Inbox Data by condition">
        <![CDATA[
            SELECT
                inbox.id,
                inbox.subject,
                inbox.message_type,
                inbox.ref_no,
                inbox.service,
                inbox.created_dt
            FROM INTER_INBOX AS inbox
            WHERE 1=1
            <#if id??> AND CHARINDEX(:id, inbox.id) >0</#if>
            <#if messageType??> AND inbox.message_type = :messageType</#if>
            <#if interService??> AND inbox.service = :interService</#if>
        ]]>
    </sql>

    <sql key = "applicationQuery" remarks = "Query Inter-Application Data by condition">
        <![CDATA[
            SELECT
                app.id,
                app.application_no,
                app.app_type,
                app.status,
                app.service_id,
                app.created_dt
            FROM APPLICATION AS app
            WHERE 1=1
            <#if id??> AND CHARINDEX(:id, app.id) >0</#if>
            <#if appType??> AND app.app_type = :appType</#if>
            <#if appNo??> AND app.application_no = :appNo</#if>
            <#if appStatus??> AND app.status = :appStatus</#if>
        ]]>
    </sql>


    <sql key = "licenceQuery" remarks = "Query Inter-Licence Data by condition">
        <![CDATA[
            SELECT
                lic.id,
                lic.licence_no,
                lic.svc_name,
                lic.start_date,
                lic.expiry_date
            FROM LICENCE AS lic
            WHERE 1=1
            <#if id??> AND CHARINDEX(:id, lic.id) >0</#if>
            <#if licenseAdvancedSearch??> AND lic.licence_no = :licenseAdvancedSearch</#if>
        ]]>
    </sql>

</sqls>

